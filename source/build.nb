(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     11360,        287]
NotebookOptionsPosition[     10176,        258]
NotebookOutlinePosition[     10522,        273]
CellTagsIndexPosition[     10479,        270]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"basedir", "=", 
  RowBox[{"ParentDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.7592569467583847`*^9, 3.7592569669784403`*^9}},
 CellLabel->"In[55]:=",ExpressionUUID->"8164aa3a-8813-4285-b161-f879f236caee"],

Cell[BoxData["\<\"D:\\\\github\\\\arnoudbuzing.github.io\"\>"], "Output",
 CellChangeTimes->{3.759256967968443*^9, 3.7592586387012644`*^9, 
  3.7602709665974236`*^9},
 CellLabel->"Out[55]=",ExpressionUUID->"457c3033-34dd-4298-aae5-ffb69fa48fe3"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Get", "[", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{"basedir", ",", "\"\<source\>\"", ",", "\"\<template.wl\>\""}], 
    "}"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.7592523987352343`*^9, 3.7592524022386737`*^9}, 
   3.7592565614622903`*^9, {3.759256978587462*^9, 3.7592570003066006`*^9}},
 CellLabel->"In[99]:=",ExpressionUUID->"3aeb08c3-7018-4743-90f3-3eb0ab48d0c9"],

Cell[CellGroupData[{

Cell["build index.html", "Subsubsection",
 CellChangeTimes->{{3.759255234056806*^9, 
  3.7592552379293737`*^9}},ExpressionUUID->"0c20f902-22f9-4216-b49a-\
45516c469a40"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"DirectoryName", "[", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{"basedir", ",", "\"\<index.nb\>\""}], "}"}], "]"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.7592586891733637`*^9, 3.75925869794738*^9}},
 CellLabel->"In[79]:=",ExpressionUUID->"de9b2377-44a3-4e74-ad19-d061eaef65ec"],

Cell[BoxData["\<\"D:\\\\github\\\\arnoudbuzing.github.io\\\\\"\>"], "Output",
 CellChangeTimes->{{3.759258693459375*^9, 3.7592586982353826`*^9}, 
   3.760270980410471*^9, 3.760274914895859*^9},
 CellLabel->"Out[79]=",ExpressionUUID->"a133a159-7e34-4108-b286-6cae5df18cd2"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"build", "[", "file_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "basename", ",", "basedir", ",", "notebook", ",", "webpage", ",", 
      "stream", ",", "text", ",", "data"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"basename", "=", 
      RowBox[{"FileBaseName", "[", "file", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"basedir", "=", 
      RowBox[{"DirectoryName", "[", "file", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"notebook", "=", 
      RowBox[{
       RowBox[{"Import", "[", 
        RowBox[{"file", ",", "\"\<Notebook\>\""}], "]"}], "/.", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"HoldPattern", "[", "_Rule", "]"}], "\[RuleDelayed]", 
         RowBox[{"Sequence", "[", "]"}]}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"webpage", "=", 
      RowBox[{"FileNameJoin", "[", 
       RowBox[{"{", 
        RowBox[{"basedir", ",", 
         RowBox[{"basename", "<>", "\"\<.html\>\""}]}], "}"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"DeleteFile", "[", "webpage", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"stream", "=", 
      RowBox[{"OpenWrite", "[", "webpage", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"text", "=", 
      RowBox[{"First", "@", 
       RowBox[{"Cases", "[", 
        RowBox[{"notebook", ",", 
         RowBox[{
          RowBox[{"Cell", "[", 
           RowBox[{"text_String", ",", "\"\<Title\>\"", ",", "___"}], "]"}], 
          "\[RuleDelayed]", "text"}], ",", "\[Infinity]"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"stream", ",", 
       RowBox[{
        RowBox[{"template", "[", "\"\<head\>\"", "]"}], "[", 
        RowBox[{"<|", 
         RowBox[{"\"\<title\>\"", "\[Rule]", "text"}], "|>"}], "]"}]}], "]"}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"stream", ",", 
       RowBox[{
        RowBox[{"template", "[", "\"\<h1\>\"", "]"}], "[", 
        RowBox[{"<|", 
         RowBox[{"\"\<text\>\"", "\[Rule]", "text"}], "|>"}], "]"}]}], "]"}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"text", "=", 
      RowBox[{"First", "@", 
       RowBox[{"Cases", "[", 
        RowBox[{"notebook", ",", 
         RowBox[{
          RowBox[{"Cell", "[", 
           RowBox[{"text_String", ",", "\"\<Chapter\>\"", ",", "___"}], "]"}],
           "\[RuleDelayed]", "text"}], ",", "\[Infinity]"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"stream", ",", 
       RowBox[{
        RowBox[{"template", "[", "\"\<h2\>\"", "]"}], "[", 
        RowBox[{"<|", 
         RowBox[{"\"\<text\>\"", "\[Rule]", "text"}], "|>"}], "]"}]}], "]"}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"text", "=", 
      RowBox[{"First", "@", 
       RowBox[{"Cases", "[", 
        RowBox[{"notebook", ",", 
         RowBox[{
          RowBox[{"Cell", "[", 
           RowBox[{"text_String", ",", "\"\<Subchapter\>\"", ",", "___"}], 
           "]"}], "\[RuleDelayed]", "text"}], ",", "\[Infinity]"}], "]"}]}]}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"stream", ",", 
       RowBox[{
        RowBox[{"template", "[", "\"\<lede\>\"", "]"}], "[", 
        RowBox[{"<|", 
         RowBox[{"\"\<text\>\"", "\[Rule]", "text"}], "|>"}], "]"}]}], "]"}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"data", "=", 
      RowBox[{"Cases", "[", 
       RowBox[{"notebook", ",", 
        RowBox[{
         RowBox[{"Cell", "[", 
          RowBox[{"CellGroupData", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Cell", "[", 
               RowBox[{"caption_", ",", "\"\<Section\>\"", ",", "___"}], 
               "]"}], ",", 
              RowBox[{"Cell", "[", 
               RowBox[{"text_", ",", "\"\<Text\>\"", ",", "___"}], "]"}], ",", 
              RowBox[{"Cell", "[", 
               RowBox[{"href_", ",", "\"\<Text\>\"", ",", "___"}], "]"}]}], 
             "}"}], ",", "Open"}], "]"}], "]"}], "\[RuleDelayed]", 
         RowBox[{"<|", 
          RowBox[{
           RowBox[{"\"\<caption\>\"", "\[Rule]", "caption"}], ",", 
           RowBox[{"\"\<text\>\"", "\[Rule]", "text"}], ",", 
           RowBox[{"\"\<href\>\"", "\[Rule]", "href"}]}], "|>"}]}], ",", 
        "\[Infinity]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Scan", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"WriteString", "[", 
         RowBox[{"stream", ",", 
          RowBox[{
           RowBox[{"template", "[", "\"\<box\>\"", "]"}], "[", "#", "]"}]}], 
         "]"}], "&"}], ",", "data"}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"WriteString", "[", 
      RowBox[{"stream", ",", 
       RowBox[{"template", "[", "\"\<footer\>\"", "]"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Close", "[", "stream", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.7592585911708107`*^9, 3.7592586655933266`*^9}, {
  3.7592587175294156`*^9, 3.7592589784830084`*^9}, {3.7592592566021185`*^9, 
  3.759259291215824*^9}, {3.7602750782900257`*^9, 3.760275092969084*^9}},
 CellLabel->"In[95]:=",ExpressionUUID->"1dba8524-d12b-46bd-b919-547b67fa51e2"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"build", "[", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"basedir", ",", "\"\<index.nb\>\""}], "}"}], "]"}], "]"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"files", "=", 
   RowBox[{"FileNames", "[", 
    RowBox[{"\"\<*.nb\>\"", ",", 
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{"basedir", ",", "\"\<wolfram\>\""}], "}"}], "]"}]}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{"Map", "[", 
  RowBox[{"build", ",", "files"}], "]"}]}], "Input",
 CellChangeTimes->{{3.7592586256442423`*^9, 3.7592586497382975`*^9}, {
  3.7602748667223496`*^9, 3.7602748699683633`*^9}, {3.760275785592974*^9, 
  3.7602757886689777`*^9}, {3.760275837086138*^9, 3.7602758376601424`*^9}},
 CellLabel->
  "In[107]:=",ExpressionUUID->"0f3635a7-29a7-4e66-b944-21e8baded837"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"D:\\\\github\\\\arnoudbuzing.github.io\\\\wolfram\\\\bindings.\
html\"\>", 
   ",", "\<\"D:\\\\github\\\\arnoudbuzing.github.io\\\\wolfram\\\\communities.\
html\"\>", 
   ",", "\<\"D:\\\\github\\\\arnoudbuzing.github.io\\\\wolfram\\\\editors.\
html\"\>", 
   ",", "\<\"D:\\\\github\\\\arnoudbuzing.github.io\\\\wolfram\\\\github.html\
\"\>", ",", \
"\<\"D:\\\\github\\\\arnoudbuzing.github.io\\\\wolfram\\\\index.html\"\>", 
   ",", "\<\"D:\\\\github\\\\arnoudbuzing.github.io\\\\wolfram\\\\out.html\"\>\
", ",", "\<\"D:\\\\github\\\\arnoudbuzing.github.io\\\\wolfram\\\\videos.html\
\"\>"}], "}"}]], "Output",
 CellChangeTimes->{
  3.7592591660572004`*^9, 3.7592592358004627`*^9, 3.759259312968953*^9, 
   3.759259466600995*^9, 3.7592595208426175`*^9, 3.7592596235603685`*^9, 
   3.759259694930848*^9, 3.759260086937523*^9, 3.7592601471793494`*^9, 
   3.759260589988964*^9, 3.759260621987569*^9, 3.759260889673261*^9, 
   3.759260934760475*^9, {3.75926110347486*^9, 3.759261149051363*^9}, 
   3.7592611838374147`*^9, 3.760270994159522*^9, 3.760271115586857*^9, 
   3.760273138461505*^9, 3.760273280315548*^9, 3.7602734268256063`*^9, 
   3.760273501253396*^9, 3.760274087697092*^9, 3.760274405270607*^9, 
   3.7602746702996407`*^9, {3.7602748535143075`*^9, 3.7602748715433636`*^9}, 
   3.760274917996869*^9, {3.760275081166048*^9, 3.7602750989641027`*^9}, {
   3.7602751675113773`*^9, 3.760275190528045*^9}, 3.7602759431349134`*^9, 
   3.7602760104591866`*^9},
 CellLabel->
  "Out[109]=",ExpressionUUID->"a38c7a23-5ed8-455d-95ad-17df7ed0dfc8"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{775, 872},
WindowMargins->{{25, Automatic}, {Automatic, 31}},
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (February 25, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 286, 5, 28, "Input",ExpressionUUID->"8164aa3a-8813-4285-b161-f879f236caee"],
Cell[869, 29, 245, 3, 32, "Output",ExpressionUUID->"457c3033-34dd-4298-aae5-ffb69fa48fe3"]
}, Open  ]],
Cell[1129, 35, 421, 8, 28, "Input",ExpressionUUID->"3aeb08c3-7018-4743-90f3-3eb0ab48d0c9"],
Cell[CellGroupData[{
Cell[1575, 47, 169, 3, 44, "Subsubsection",ExpressionUUID->"0c20f902-22f9-4216-b49a-45516c469a40"],
Cell[CellGroupData[{
Cell[1769, 54, 324, 7, 28, "Input",ExpressionUUID->"de9b2377-44a3-4e74-ad19-d061eaef65ec"],
Cell[2096, 63, 272, 3, 32, "Output",ExpressionUUID->"a133a159-7e34-4108-b286-6cae5df18cd2"]
}, Open  ]],
Cell[2383, 69, 5333, 130, 447, "Input",ExpressionUUID->"1dba8524-d12b-46bd-b919-547b67fa51e2"],
Cell[CellGroupData[{
Cell[7741, 203, 817, 21, 67, "Input",ExpressionUUID->"0f3635a7-29a7-4e66-b944-21e8baded837"],
Cell[8561, 226, 1587, 28, 147, "Output",ExpressionUUID->"a38c7a23-5ed8-455d-95ad-17df7ed0dfc8"]
}, Open  ]]
}, Open  ]]
}
]
*)

