<!doctype html>

<html>

<head>
 <title>arnoudbuzing</title>

<script>
var count = 1;

var ws = new WebSocket('wss://18.217.160.48:443', 'echo-protocol');

ws.addEventListener("message", function(e) {
 var msg = e.data;
 var old = document.getElementById('aws').innerHTML;
 document.getElementById('aws').innerHTML = 'Out['+(count++)+'] = ' + msg + '<br><br>' + old;
 document.getElementById('prompt').innerHTML = 'Input['+count+']';
});

function sendMessage() {
  var message = document.getElementById('message').value;
  ws.send(message);
  document.getElementById('form').reset();
}

function keyHandler(e) {
  if(e.keyCode==13) {
    sendMessage();
    return false;
  } else {
    return true;
  }
}
</script>

</head>

<body>
<h1>wolfram language</h1>

<form id='form'>
<span id='prompt'></span> <input type='text' id='message' onkeypress='return keyHandler(event)'></input>
</form>

<div id='aws'></div>


</body>

<script>
document.getElementById('prompt').innerHTML = 'In['+count+'] := ';
</script>

</html>
